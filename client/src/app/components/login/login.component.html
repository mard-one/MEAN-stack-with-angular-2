<h1 class="page-header">Login</h1>

<div class="row show-hide-message">
  <div [ngClass]='messageClass'>
    {{ message }}
  </div>
</div>

<form class="form-horizontal" [formGroup]="form" (submit)="onLoginSubmit()">
  <div class="form-group">
    <label class="control-label col-sm-2" for="username">Username:</label>
  <div class="col-sm-10" [ngClass]="{'has-error': form.controls.username.errors?.required && (form.controls.username.dirty || form.controls.username.touched), 'has-success':(!form.controls.username.errors)}">
      <input type="username" class="form-control" id="username" placeholder="Enter username" name="username" formControlName='username'>
      <ul class="help-block">
        <li *ngIf='form.controls.username.errors?.required && (form.controls.username.dirty || form.controls.username.touched)'>
          This field is required
        </li>
      </ul>
    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-2" for="pwd">Password:</label>
    <div class="col-sm-10" [ngClass]="{'has-error': form.controls.password.errors?.required && (form.controls.password.dirty || form.controls.password.touched), 'has-success':(!form.controls.password.errors)}">
      <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="password" formControlName='password'>
      <ul class="help-block">
        <li *ngIf='form.controls.password.errors?.required && (form.controls.password.dirty || form.controls.password.touched)'>
          This field is required
        </li>
      </ul>
    </div>
  </div>

  <div class="col-sm-offset-2 col-sm-10">
    <button type="submit" [disabled]="!form.valid || processing" class="btn btn-default">Submit</button>
  </div>
</form>
